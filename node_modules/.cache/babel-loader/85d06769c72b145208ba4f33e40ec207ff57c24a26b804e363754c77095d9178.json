{"ast":null,"code":"import { createStore } from 'redux';\nconst loadState = () => {\n  try {\n    const serializedState = localStorage.getItem('cart');\n    return serializedState ? JSON.parse(serializedState) : [];\n  } catch (e) {\n    return [];\n  }\n};\nconst saveState = state => {\n  try {\n    const serializedState = JSON.stringify(state.cart);\n    localStorage.setItem('cart', serializedState);\n  } catch (e) {\n    console.error('Could not save state', e);\n  }\n};\nconst initialState = {\n  cart: loadState()\n};\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case 'ADD_TO_CART':\n      return {\n        ...state,\n        cart: [...state.cart, action.payload]\n      };\n    case 'REMOVE_FROM_CART':\n      return {\n        ...state,\n        cart: state.cart.filter((_, index) => index !== action.payload)\n      };\n    case 'CLEAR_CART':\n      console.log('CLEAR_CART action triggered');\n      return {\n        ...state,\n        cart: []\n      };\n    default:\n      return state;\n  }\n};\nconst store = createStore(reducer);\nstore.subscribe(() => {\n  const state = store.getState();\n  localStorage.setItem('cart', JSON.stringify(state.cart));\n});\nexport default store;","map":{"version":3,"names":["createStore","loadState","serializedState","localStorage","getItem","JSON","parse","e","saveState","state","stringify","cart","setItem","console","error","initialState","reducer","action","type","payload","filter","_","index","log","store","subscribe","getState"],"sources":["C:/xampp/htdocs/store/src/pages/CartPage.js"],"sourcesContent":["import { createStore } from 'redux';\r\n\r\nconst loadState = () => {\r\n  try {\r\n    const serializedState = localStorage.getItem('cart');\r\n    return serializedState ? JSON.parse(serializedState) : [];\r\n  } catch (e) {\r\n    return [];\r\n  }\r\n};\r\n\r\nconst saveState = (state) => {\r\n  try {\r\n    const serializedState = JSON.stringify(state.cart);\r\n    localStorage.setItem('cart', serializedState);\r\n  } catch (e) {\r\n    console.error('Could not save state', e);\r\n  }\r\n};\r\n\r\nconst initialState = {\r\n  cart: loadState(),\r\n};\r\n\r\nconst reducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case 'ADD_TO_CART':\r\n      return { ...state, cart: [...state.cart, action.payload] };\r\n    case 'REMOVE_FROM_CART':\r\n      return {\r\n        ...state,\r\n        cart: state.cart.filter((_, index) => index !== action.payload),\r\n      };\r\n    case 'CLEAR_CART':\r\n      console.log('CLEAR_CART action triggered');\r\n      return { ...state, cart: [] };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst store = createStore(reducer);\r\n\r\nstore.subscribe(() => {\r\n  const state = store.getState();\r\n  localStorage.setItem('cart', JSON.stringify(state.cart));\r\n});\r\n\r\nexport default store;"],"mappings":"AAAA,SAASA,WAAW,QAAQ,OAAO;AAEnC,MAAMC,SAAS,GAAGA,CAAA,KAAM;EACtB,IAAI;IACF,MAAMC,eAAe,GAAGC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;IACpD,OAAOF,eAAe,GAAGG,IAAI,CAACC,KAAK,CAACJ,eAAe,CAAC,GAAG,EAAE;EAC3D,CAAC,CAAC,OAAOK,CAAC,EAAE;IACV,OAAO,EAAE;EACX;AACF,CAAC;AAED,MAAMC,SAAS,GAAIC,KAAK,IAAK;EAC3B,IAAI;IACF,MAAMP,eAAe,GAAGG,IAAI,CAACK,SAAS,CAACD,KAAK,CAACE,IAAI,CAAC;IAClDR,YAAY,CAACS,OAAO,CAAC,MAAM,EAAEV,eAAe,CAAC;EAC/C,CAAC,CAAC,OAAOK,CAAC,EAAE;IACVM,OAAO,CAACC,KAAK,CAAC,sBAAsB,EAAEP,CAAC,CAAC;EAC1C;AACF,CAAC;AAED,MAAMQ,YAAY,GAAG;EACnBJ,IAAI,EAAEV,SAAS,CAAC;AAClB,CAAC;AAED,MAAMe,OAAO,GAAGA,CAACP,KAAK,GAAGM,YAAY,EAAEE,MAAM,KAAK;EAChD,QAAQA,MAAM,CAACC,IAAI;IACjB,KAAK,aAAa;MAChB,OAAO;QAAE,GAAGT,KAAK;QAAEE,IAAI,EAAE,CAAC,GAAGF,KAAK,CAACE,IAAI,EAAEM,MAAM,CAACE,OAAO;MAAE,CAAC;IAC5D,KAAK,kBAAkB;MACrB,OAAO;QACL,GAAGV,KAAK;QACRE,IAAI,EAAEF,KAAK,CAACE,IAAI,CAACS,MAAM,CAAC,CAACC,CAAC,EAAEC,KAAK,KAAKA,KAAK,KAAKL,MAAM,CAACE,OAAO;MAChE,CAAC;IACH,KAAK,YAAY;MACfN,OAAO,CAACU,GAAG,CAAC,6BAA6B,CAAC;MAC1C,OAAO;QAAE,GAAGd,KAAK;QAAEE,IAAI,EAAE;MAAG,CAAC;IAC/B;MACE,OAAOF,KAAK;EAChB;AACF,CAAC;AAED,MAAMe,KAAK,GAAGxB,WAAW,CAACgB,OAAO,CAAC;AAElCQ,KAAK,CAACC,SAAS,CAAC,MAAM;EACpB,MAAMhB,KAAK,GAAGe,KAAK,CAACE,QAAQ,CAAC,CAAC;EAC9BvB,YAAY,CAACS,OAAO,CAAC,MAAM,EAAEP,IAAI,CAACK,SAAS,CAACD,KAAK,CAACE,IAAI,CAAC,CAAC;AAC1D,CAAC,CAAC;AAEF,eAAea,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}